<div class="p-4">
  <h1 class="text-2xl font-bold mb-4">ğŸ‹ï¸ Your Workout Dashboard</h1>

  <!-- Stats -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
    <div class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <h2 class="card-title text-lg">Total Exercises Tracked</h2>
        <p class="text-2xl font-bold text-primary"><%= current_user.exercise_trackings.count %></p>
      </div>
    </div>
    <div class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <h2 class="card-title text-lg">Total Weight Lifted (kg)</h2>
        <p class="text-2xl font-bold text-secondary">
          <%= current_user.exercise_trackings.sum(:weight) %>
        </p>
      </div>
    </div>
    <div class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <h2 class="card-title text-lg">Recent Workout Plan</h2>
        <% if (recent = current_user.workout_plans.last) %>
          <p><%= link_to recent.name, workout_plan_exercises_path(recent), class: "link link-primary" %></p>
        <% else %>
          <p class="text-base-content/70">No plans yet.</p>
        <% end %>
      </div>
    </div>
  </div>

  <!-- Real-Time Tracking Feed -->
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title text-xl mb-2">ğŸŸ¢ Live Tracking Feed</h2>
      <div id="tracking_feed">
        <%= turbo_frame_tag "tracking_feed" do %>
          <%= render partial: "exercise_trackings/tracking", collection: current_user.exercise_trackings.order(created_at: :desc).limit(10), as: :tracking %>
        <% end %>
      </div>
    </div>
  </div>
</div>
