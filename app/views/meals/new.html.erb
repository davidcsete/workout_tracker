<!-- app/views/meals/new.html.erb -->
<div class="max-w-lg mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Add New Meal</h1>

  <%= form_with(model: @meal, local: true, class: "space-y-4") do |form| %>
    <div>
      <%= form.label :meal_type, class: "block font-medium" %>
      <%= form.select :meal_type, Meal.meal_types.keys.map { |m| [m.titleize, Meal.meal_types[m]] },
                      {}, class: "w-full rounded-md border px-3 py-2" %>
    </div>

    <!-- Hidden field to preserve the date context -->
    <%= form.hidden_field :date, value: params[:date] %>

    <%= form.submit "Create Meal", class: "btn btn-primary" %>
  <% end %>
</div>